<script type="module">
  import VakyaModule from './Vakya.js';

  //code = "@do research \n @on best mobile phones \n @cdn{}"

  fetch("Vakya.wasm")
  .then(response => response.arrayBuffer())
  .then(wasmBinary => {
    VakyaModule({
      wasmBinary,
    }).then((Module) => {
      const result = Module.ccall(
        'generate_vakya_prompt',
        'string',
        ['string'],
        ["@do research \n @on best mobile phones \n @src(!Reddit, ?Youtube Media)\n @cdn{ ! price>4000} \n @fmt @table(col2) @prop{asc:col1, dsc:col2, grp:col3}"]
      );
      console.log(result);
    });
  });

</script>
